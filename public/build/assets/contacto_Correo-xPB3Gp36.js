document.getElementById("contactForm").addEventListener("submit",function(s){s.preventDefault();const n=s.target,a=new FormData(n),e=document.getElementById("statusMessage");e.textContent="",e.style.color="inherit",fetch(n.action,{method:"POST",body:a,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(t=>t.ok?t.json():t.json().then(o=>{throw new Error(JSON.stringify(o))})).then(t=>{e.textContent=t.message||"Mensaje enviado con éxito!",e.style.color="green",n.reset(),setTimeout(()=>{e.textContent=""},1e4)}).catch(t=>{console.error("Error:",t);try{const o=JSON.parse(t.message);let r="Hubo un problema al enviar el mensaje. ";o.errors?(r+="Revisa los siguientes campos: ",Object.values(o.errors).forEach(c=>{r+=c[0]+" "})):r=o.message||"Error desconocido.",e.textContent=r.trim()}catch{e.textContent="Error de conexión o del servidor."}e.style.color="red"})});
