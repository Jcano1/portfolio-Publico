var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B={},ut={},Ht={},lt={},W={},Ie;function st(){if(Ie)return W;Ie=1,Object.defineProperty(W,"__esModule",{value:!0});var d=`
`;W.NewLine=d;var v;(function(s){s.Ordered="ordered",s.Bullet="bullet",s.Checked="checked",s.Unchecked="unchecked"})(v||(v={})),W.ListType=v;var g;(function(s){s.Sub="sub",s.Super="super"})(g||(g={})),W.ScriptType=g;var p;(function(s){s.Rtl="rtl"})(p||(p={})),W.DirectionType=p;var u;(function(s){s.Left="left",s.Center="center",s.Right="right",s.Justify="justify"})(u||(u={})),W.AlignType=u;var r;(function(s){s.Image="image",s.Video="video",s.Formula="formula",s.Text="text"})(r||(r={})),W.DataType=r;var e;return(function(s){s.Block="block",s.InlineGroup="inline-group",s.List="list",s.Video="video",s.Table="table"})(e||(e={})),W.GroupType=e,W}var bt={},Ae;function Kt(){if(Ae)return bt;Ae=1,Object.defineProperty(bt,"__esModule",{value:!0});var d=(function(){function g(p,u){this.type=p,this.value=u}return g})();bt.InsertDataQuill=d;var v=(function(){function g(p,u){this.type=p,this.value=u}return g})();return bt.InsertDataCustom=v,bt}var _t={exports:{}};_t.exports;var Oe;function yn(){return Oe||(Oe=1,(function(d,v){var g=200,p="__lodash_hash_undefined__",u=1,r=2,e=9007199254740991,s="[object Arguments]",c="[object Array]",h="[object AsyncFunction]",i="[object Boolean]",f="[object Date]",o="[object Error]",a="[object Function]",m="[object GeneratorFunction]",y="[object Map]",T="[object Number]",C="[object Null]",L="[object Object]",k="[object Promise]",H="[object Proxy]",S="[object RegExp]",q="[object Set]",V="[object String]",ht="[object Symbol]",at="[object Undefined]",dt="[object WeakMap]",kt="[object ArrayBuffer]",x="[object DataView]",E="[object Float32Array]",Je="[object Float64Array]",Ze="[object Int8Array]",Ke="[object Int16Array]",Ye="[object Int32Array]",Xe="[object Uint8Array]",tr="[object Uint8ClampedArray]",er="[object Uint16Array]",rr="[object Uint32Array]",nr=/[\\^$.*+?()[\]{}|]/g,ir=/^\[object .+?Constructor\]$/,sr=/^(?:0|[1-9]\d*)$/,I={};I[E]=I[Je]=I[Ze]=I[Ke]=I[Ye]=I[Xe]=I[tr]=I[er]=I[rr]=!0,I[s]=I[c]=I[kt]=I[i]=I[x]=I[f]=I[o]=I[a]=I[y]=I[T]=I[L]=I[S]=I[q]=I[V]=I[dt]=!1;var re=typeof Gt=="object"&&Gt&&Gt.Object===Object&&Gt,ar=typeof self=="object"&&self&&self.Object===Object&&self,U=re||ar||Function("return this")(),ne=v&&!v.nodeType&&v,ie=ne&&!0&&d&&!d.nodeType&&d,se=ie&&ie.exports===ne,Ft=se&&re.process,ae=(function(){try{return Ft&&Ft.binding&&Ft.binding("util")}catch{}})(),oe=ae&&ae.isTypedArray;function or(t,n){for(var l=-1,b=t==null?0:t.length,A=0,_=[];++l<b;){var w=t[l];n(w,l,t)&&(_[A++]=w)}return _}function ur(t,n){for(var l=-1,b=n.length,A=t.length;++l<b;)t[A+l]=n[l];return t}function lr(t,n){for(var l=-1,b=t==null?0:t.length;++l<b;)if(n(t[l],l,t))return!0;return!1}function cr(t,n){for(var l=-1,b=Array(t);++l<t;)b[l]=n(l);return b}function fr(t){return function(n){return t(n)}}function pr(t,n){return t.has(n)}function hr(t,n){return t?.[n]}function dr(t){var n=-1,l=Array(t.size);return t.forEach(function(b,A){l[++n]=[A,b]}),l}function vr(t,n){return function(l){return t(n(l))}}function gr(t){var n=-1,l=Array(t.size);return t.forEach(function(b){l[++n]=b}),l}var mr=Array.prototype,yr=Function.prototype,St=Object.prototype,Wt=U["__core-js_shared__"],ue=yr.toString,F=St.hasOwnProperty,le=(function(){var t=/[^.]+$/.exec(Wt&&Wt.keys&&Wt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),ce=St.toString,br=RegExp("^"+ue.call(F).replace(nr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fe=se?U.Buffer:void 0,It=U.Symbol,pe=U.Uint8Array,he=St.propertyIsEnumerable,Tr=mr.splice,tt=It?It.toStringTag:void 0,de=Object.getOwnPropertySymbols,_r=fe?fe.isBuffer:void 0,Cr=vr(Object.keys,Object),Vt=ot(U,"DataView"),vt=ot(U,"Map"),Ut=ot(U,"Promise"),$t=ot(U,"Set"),Qt=ot(U,"WeakMap"),gt=ot(Object,"create"),Lr=nt(Vt),kr=nt(vt),Sr=nt(Ut),Ir=nt($t),Ar=nt(Qt),ve=It?It.prototype:void 0,Jt=ve?ve.valueOf:void 0;function et(t){var n=-1,l=t==null?0:t.length;for(this.clear();++n<l;){var b=t[n];this.set(b[0],b[1])}}function Or(){this.__data__=gt?gt(null):{},this.size=0}function wr(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}function Br(t){var n=this.__data__;if(gt){var l=n[t];return l===p?void 0:l}return F.call(n,t)?n[t]:void 0}function zr(t){var n=this.__data__;return gt?n[t]!==void 0:F.call(n,t)}function Dr(t,n){var l=this.__data__;return this.size+=this.has(t)?0:1,l[t]=gt&&n===void 0?p:n,this}et.prototype.clear=Or,et.prototype.delete=wr,et.prototype.get=Br,et.prototype.has=zr,et.prototype.set=Dr;function $(t){var n=-1,l=t==null?0:t.length;for(this.clear();++n<l;){var b=t[n];this.set(b[0],b[1])}}function Gr(){this.__data__=[],this.size=0}function Hr(t){var n=this.__data__,l=Ot(n,t);if(l<0)return!1;var b=n.length-1;return l==b?n.pop():Tr.call(n,l,1),--this.size,!0}function xr(t){var n=this.__data__,l=Ot(n,t);return l<0?void 0:n[l][1]}function Er(t){return Ot(this.__data__,t)>-1}function Rr(t,n){var l=this.__data__,b=Ot(l,t);return b<0?(++this.size,l.push([t,n])):l[b][1]=n,this}$.prototype.clear=Gr,$.prototype.delete=Hr,$.prototype.get=xr,$.prototype.has=Er,$.prototype.set=Rr;function rt(t){var n=-1,l=t==null?0:t.length;for(this.clear();++n<l;){var b=t[n];this.set(b[0],b[1])}}function qr(){this.size=0,this.__data__={hash:new et,map:new(vt||$),string:new et}}function Mr(t){var n=wt(this,t).delete(t);return this.size-=n?1:0,n}function jr(t){return wt(this,t).get(t)}function Nr(t){return wt(this,t).has(t)}function Pr(t,n){var l=wt(this,t),b=l.size;return l.set(t,n),this.size+=l.size==b?0:1,this}rt.prototype.clear=qr,rt.prototype.delete=Mr,rt.prototype.get=jr,rt.prototype.has=Nr,rt.prototype.set=Pr;function At(t){var n=-1,l=t==null?0:t.length;for(this.__data__=new rt;++n<l;)this.add(t[n])}function Fr(t){return this.__data__.set(t,p),this}function Wr(t){return this.__data__.has(t)}At.prototype.add=At.prototype.push=Fr,At.prototype.has=Wr;function Z(t){var n=this.__data__=new $(t);this.size=n.size}function Vr(){this.__data__=new $,this.size=0}function Ur(t){var n=this.__data__,l=n.delete(t);return this.size=n.size,l}function $r(t){return this.__data__.get(t)}function Qr(t){return this.__data__.has(t)}function Jr(t,n){var l=this.__data__;if(l instanceof $){var b=l.__data__;if(!vt||b.length<g-1)return b.push([t,n]),this.size=++l.size,this;l=this.__data__=new rt(b)}return l.set(t,n),this.size=l.size,this}Z.prototype.clear=Vr,Z.prototype.delete=Ur,Z.prototype.get=$r,Z.prototype.has=Qr,Z.prototype.set=Jr;function Zr(t,n){var l=Bt(t),b=!l&&pn(t),A=!l&&!b&&Zt(t),_=!l&&!b&&!A&&ke(t),w=l||b||A||_,z=w?cr(t.length,String):[],D=z.length;for(var O in t)F.call(t,O)&&!(w&&(O=="length"||A&&(O=="offset"||O=="parent")||_&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||on(O,D)))&&z.push(O);return z}function Ot(t,n){for(var l=t.length;l--;)if(Te(t[l][0],n))return l;return-1}function Kr(t,n,l){var b=n(t);return Bt(t)?b:ur(b,l(t))}function mt(t){return t==null?t===void 0?at:C:tt&&tt in Object(t)?sn(t):fn(t)}function ge(t){return yt(t)&&mt(t)==s}function me(t,n,l,b,A){return t===n?!0:t==null||n==null||!yt(t)&&!yt(n)?t!==t&&n!==n:Yr(t,n,l,b,me,A)}function Yr(t,n,l,b,A,_){var w=Bt(t),z=Bt(n),D=w?c:K(t),O=z?c:K(n);D=D==s?L:D,O=O==s?L:O;var M=D==L,P=O==L,G=D==O;if(G&&Zt(t)){if(!Zt(n))return!1;w=!0,M=!1}if(G&&!M)return _||(_=new Z),w||ke(t)?ye(t,n,l,b,A,_):rn(t,n,D,l,b,A,_);if(!(l&u)){var j=M&&F.call(t,"__wrapped__"),N=P&&F.call(n,"__wrapped__");if(j||N){var Y=j?t.value():t,Q=N?n.value():n;return _||(_=new Z),A(Y,Q,l,b,_)}}return G?(_||(_=new Z),nn(t,n,l,b,A,_)):!1}function Xr(t){if(!Le(t)||ln(t))return!1;var n=_e(t)?br:ir;return n.test(nt(t))}function tn(t){return yt(t)&&Ce(t.length)&&!!I[mt(t)]}function en(t){if(!cn(t))return Cr(t);var n=[];for(var l in Object(t))F.call(t,l)&&l!="constructor"&&n.push(l);return n}function ye(t,n,l,b,A,_){var w=l&u,z=t.length,D=n.length;if(z!=D&&!(w&&D>z))return!1;var O=_.get(t);if(O&&_.get(n))return O==n;var M=-1,P=!0,G=l&r?new At:void 0;for(_.set(t,n),_.set(n,t);++M<z;){var j=t[M],N=n[M];if(b)var Y=w?b(N,j,M,n,t,_):b(j,N,M,t,n,_);if(Y!==void 0){if(Y)continue;P=!1;break}if(G){if(!lr(n,function(Q,it){if(!pr(G,it)&&(j===Q||A(j,Q,l,b,_)))return G.push(it)})){P=!1;break}}else if(!(j===N||A(j,N,l,b,_))){P=!1;break}}return _.delete(t),_.delete(n),P}function rn(t,n,l,b,A,_,w){switch(l){case x:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case kt:return!(t.byteLength!=n.byteLength||!_(new pe(t),new pe(n)));case i:case f:case T:return Te(+t,+n);case o:return t.name==n.name&&t.message==n.message;case S:case V:return t==n+"";case y:var z=dr;case q:var D=b&u;if(z||(z=gr),t.size!=n.size&&!D)return!1;var O=w.get(t);if(O)return O==n;b|=r,w.set(t,n);var M=ye(z(t),z(n),b,A,_,w);return w.delete(t),M;case ht:if(Jt)return Jt.call(t)==Jt.call(n)}return!1}function nn(t,n,l,b,A,_){var w=l&u,z=be(t),D=z.length,O=be(n),M=O.length;if(D!=M&&!w)return!1;for(var P=D;P--;){var G=z[P];if(!(w?G in n:F.call(n,G)))return!1}var j=_.get(t);if(j&&_.get(n))return j==n;var N=!0;_.set(t,n),_.set(n,t);for(var Y=w;++P<D;){G=z[P];var Q=t[G],it=n[G];if(b)var Se=w?b(it,Q,G,n,t,_):b(Q,it,G,t,n,_);if(!(Se===void 0?Q===it||A(Q,it,l,b,_):Se)){N=!1;break}Y||(Y=G=="constructor")}if(N&&!Y){var zt=t.constructor,Dt=n.constructor;zt!=Dt&&"constructor"in t&&"constructor"in n&&!(typeof zt=="function"&&zt instanceof zt&&typeof Dt=="function"&&Dt instanceof Dt)&&(N=!1)}return _.delete(t),_.delete(n),N}function be(t){return Kr(t,vn,an)}function wt(t,n){var l=t.__data__;return un(n)?l[typeof n=="string"?"string":"hash"]:l.map}function ot(t,n){var l=hr(t,n);return Xr(l)?l:void 0}function sn(t){var n=F.call(t,tt),l=t[tt];try{t[tt]=void 0;var b=!0}catch{}var A=ce.call(t);return b&&(n?t[tt]=l:delete t[tt]),A}var an=de?function(t){return t==null?[]:(t=Object(t),or(de(t),function(n){return he.call(t,n)}))}:gn,K=mt;(Vt&&K(new Vt(new ArrayBuffer(1)))!=x||vt&&K(new vt)!=y||Ut&&K(Ut.resolve())!=k||$t&&K(new $t)!=q||Qt&&K(new Qt)!=dt)&&(K=function(t){var n=mt(t),l=n==L?t.constructor:void 0,b=l?nt(l):"";if(b)switch(b){case Lr:return x;case kr:return y;case Sr:return k;case Ir:return q;case Ar:return dt}return n});function on(t,n){return n=n??e,!!n&&(typeof t=="number"||sr.test(t))&&t>-1&&t%1==0&&t<n}function un(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function ln(t){return!!le&&le in t}function cn(t){var n=t&&t.constructor,l=typeof n=="function"&&n.prototype||St;return t===l}function fn(t){return ce.call(t)}function nt(t){if(t!=null){try{return ue.call(t)}catch{}try{return t+""}catch{}}return""}function Te(t,n){return t===n||t!==t&&n!==n}var pn=ge((function(){return arguments})())?ge:function(t){return yt(t)&&F.call(t,"callee")&&!he.call(t,"callee")},Bt=Array.isArray;function hn(t){return t!=null&&Ce(t.length)&&!_e(t)}var Zt=_r||mn;function dn(t,n){return me(t,n)}function _e(t){if(!Le(t))return!1;var n=mt(t);return n==a||n==m||n==h||n==H}function Ce(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=e}function Le(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}function yt(t){return t!=null&&typeof t=="object"}var ke=oe?fr(oe):tn;function vn(t){return hn(t)?Zr(t):en(t)}function gn(){return[]}function mn(){return!1}d.exports=dn})(_t,_t.exports)),_t.exports}var we;function Yt(){if(we)return lt;we=1;var d=lt&&lt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lt,"__esModule",{value:!0});var v=st(),g=Kt(),p=d(yn()),u=(function(){function r(e,s){typeof e=="string"&&(e=new g.InsertDataQuill(v.DataType.Text,e+"")),this.insert=e,this.attributes=s||{}}return r.createNewLineOp=function(){return new r(v.NewLine)},r.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},r.prototype.isBlockAttribute=function(){var e=this.attributes;return!!(e.align||e.direction||e.indent)},r.prototype.isBlockquote=function(){return!!this.attributes.blockquote},r.prototype.isHeader=function(){return!!this.attributes.header},r.prototype.isTable=function(){return!!this.attributes.table},r.prototype.isSameHeaderAs=function(e){return e.attributes.header===this.attributes.header&&this.isHeader()},r.prototype.hasSameAdiAs=function(e){return this.attributes.align===e.attributes.align&&this.attributes.direction===e.attributes.direction&&this.attributes.indent===e.attributes.indent},r.prototype.hasSameIndentationAs=function(e){return this.attributes.indent===e.attributes.indent},r.prototype.hasSameAttr=function(e){return p.default(this.attributes,e.attributes)},r.prototype.hasHigherIndentThan=function(e){return(Number(this.attributes.indent)||0)>(Number(e.attributes.indent)||0)},r.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},r.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},r.prototype.hasSameLangAs=function(e){return this.attributes["code-block"]===e.attributes["code-block"]},r.prototype.isJustNewline=function(){return this.insert.value===v.NewLine},r.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},r.prototype.isOrderedList=function(){return this.attributes.list===v.ListType.Ordered},r.prototype.isBulletList=function(){return this.attributes.list===v.ListType.Bullet},r.prototype.isCheckedList=function(){return this.attributes.list===v.ListType.Checked},r.prototype.isUncheckedList=function(){return this.attributes.list===v.ListType.Unchecked},r.prototype.isACheckList=function(){return this.attributes.list==v.ListType.Unchecked||this.attributes.list===v.ListType.Checked},r.prototype.isSameListAs=function(e){return!!e.attributes.list&&(this.attributes.list===e.attributes.list||e.isACheckList()&&this.isACheckList())},r.prototype.isSameTableRowAs=function(e){return!!e.isTable()&&this.isTable()&&this.attributes.table===e.attributes.table},r.prototype.isText=function(){return this.insert.type===v.DataType.Text},r.prototype.isImage=function(){return this.insert.type===v.DataType.Image},r.prototype.isFormula=function(){return this.insert.type===v.DataType.Formula},r.prototype.isVideo=function(){return this.insert.type===v.DataType.Video},r.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},r.prototype.isCustomEmbed=function(){return this.insert instanceof g.InsertDataCustom},r.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},r.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},r.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},r})();return lt.DeltaInsertOp=u,lt}var xt={},Et={},ct={},Rt={},Be;function bn(){if(Be)return Rt;Be=1,Object.defineProperty(Rt,"__esModule",{value:!0});function d(v){var g=v;g=g.replace(/^\s*/gm,"");var p=/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/;return p.test(g)?g:"unsafe:"+g}return Rt.sanitize=d,Rt}var X={},ze;function Xt(){if(ze)return X;ze=1,Object.defineProperty(X,"__esModule",{value:!0});var d;(function(h){h[h.Html=0]="Html",h[h.Url=1]="Url"})(d||(d={}));function v(h,i){if(i===void 0&&(i=void 0),!h)return"";var f="";if(i){var o=[].concat(i);f=o.map(function(m){return m.key+(m.value?'="'+m.value+'"':"")}).join(" ")}var a=">";return(h==="img"||h==="br")&&(a="/>"),f?"<"+h+" "+f+a:"<"+h+a}X.makeStartTag=v;function g(h){return h===void 0&&(h=""),h&&"</"+h+">"||""}X.makeEndTag=g;function p(h){return e(d.Html).reduce(c,h)}X.decodeHtml=p;function u(h,i){return i===void 0&&(i=!0),i&&(h=p(h)),e(d.Html).reduce(s,h)}X.encodeHtml=u;function r(h){var i=e(d.Url),f=i.reduce(c,h);return i.reduce(s,f)}X.encodeLink=r;function e(h){var i=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return h===d.Html?i.filter(function(f){var o=f[0];return f[1],o.indexOf("(")===-1&&o.indexOf(")")===-1}):i.filter(function(f){var o=f[0];return f[1],o.indexOf("/")===-1})}function s(h,i){return h.replace(new RegExp(i[0],"g"),i[1])}function c(h,i){return h.replace(new RegExp(i[1],"g"),i[0].replace("\\",""))}return X}var De;function te(){if(De)return ct;De=1;var d=ct&&ct.__importStar||function(u){if(u&&u.__esModule)return u;var r={};if(u!=null)for(var e in u)Object.hasOwnProperty.call(u,e)&&(r[e]=u[e]);return r.default=u,r};Object.defineProperty(ct,"__esModule",{value:!0});var v=d(bn()),g=Xt(),p=(function(){function u(){}return u.sanitize=function(r,e){var s=function(){};e&&typeof e.urlSanitizer=="function"&&(s=e.urlSanitizer);var c=s(r);return typeof c=="string"?c:g.encodeLink(v.sanitize(r))},u})();return ct.OpLinkSanitizer=p,ct}var Ge;function Tn(){if(Ge)return Et;Ge=1,Object.defineProperty(Et,"__esModule",{value:!0});var d=te(),v=(function(){function g(){}return g.sanitize=function(p,u){var r={};return!p||typeof p!="object"||(p.class&&g.IsValidClass(p.class)&&(r.class=p.class),p.id&&g.IsValidId(p.id)&&(r.id=p.id),g.IsValidTarget(p.target+"")&&(r.target=p.target),p.avatar&&(r.avatar=d.OpLinkSanitizer.sanitize(p.avatar+"",u)),p["end-point"]&&(r["end-point"]=d.OpLinkSanitizer.sanitize(p["end-point"]+"",u)),p.slug&&(r.slug=p.slug+"")),r},g.IsValidClass=function(p){return!!p.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},g.IsValidId=function(p){return!!p.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},g.IsValidTarget=function(p){return["_self","_blank","_parent","_top"].indexOf(p)>-1},g})();return Et.MentionSanitizer=v,Et}var J={},He;function Ct(){if(He)return J;He=1,Object.defineProperty(J,"__esModule",{value:!0});function d(e){return e.length===0?null:e.length>=2?e[1]:e[0]}J.preferSecond=d;function v(e){return e.reduce(function(s,c){return s.concat(Array.isArray(c)?v(c):c)},[])}J.flatten=v;function g(e,s){if(Array.prototype.find)return Array.prototype.find.call(e,s);for(var c=0;c<e.length;c++)if(s(e[c]))return e[c]}J.find=g;function p(e,s){for(var c=[],h,i,f=0;f<e.length;f++)h=e[f],f>0&&s(h,e[f-1])?(i=c[c.length-1],i.push(h)):c.push([h]);return c.map(function(o){return o.length===1?o[0]:o})}J.groupConsecutiveElementsWhile=p;function u(e,s,c){for(var h={elements:[],sliceStartsAt:-1},i=s;i>=0&&c(e[i]);i--)h.sliceStartsAt=i,h.elements.unshift(e[i]);return h}J.sliceFromReverseWhile=u;function r(e,s){return e.reduce(function(c,h,i){return c.push(h),i<e.length-1&&c.push(s),c},[])}return J.intersperse=r,J}var xe;function $e(){if(xe)return xt;xe=1,Object.defineProperty(xt,"__esModule",{value:!0});var d=st(),v=Tn(),g=Ct(),p=te(),u=(function(){function r(){}return r.sanitize=function(e,s){var c={};if(!e||typeof e!="object")return c;var h=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],i=["background","color"],f=e.font,o=e.size,a=e.link,m=e.script,y=e.list,T=e.header,C=e.align,L=e.direction,k=e.indent,H=e.mentions,S=e.mention,q=e.width,V=e.target,ht=e.rel,at=e["code-block"],dt=h.concat(i,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(h.forEach(function(x){var E=e[x];E&&(c[x]=!!E)}),i.forEach(function(x){var E=e[x];E&&(r.IsValidHexColor(E+"")||r.IsValidColorLiteral(E+"")||r.IsValidRGBColor(E+""))&&(c[x]=E)}),f&&r.IsValidFontName(f+"")&&(c.font=f),o&&r.IsValidSize(o+"")&&(c.size=o),q&&r.IsValidWidth(q+"")&&(c.width=q),a&&(c.link=p.OpLinkSanitizer.sanitize(a+"",s)),V&&r.isValidTarget(V)&&(c.target=V),ht&&r.IsValidRel(ht)&&(c.rel=ht),at&&(r.IsValidLang(at)?c["code-block"]=at:c["code-block"]=!!at),(m===d.ScriptType.Sub||d.ScriptType.Super===m)&&(c.script=m),(y===d.ListType.Bullet||y===d.ListType.Ordered||y===d.ListType.Checked||y===d.ListType.Unchecked)&&(c.list=y),Number(T)&&(c.header=Math.min(Number(T),6)),g.find([d.AlignType.Center,d.AlignType.Right,d.AlignType.Justify,d.AlignType.Left],function(x){return x===C})&&(c.align=C),L===d.DirectionType.Rtl&&(c.direction=L),k&&Number(k)&&(c.indent=Math.min(Number(k),30)),H&&S){var kt=v.MentionSanitizer.sanitize(S,s);Object.keys(kt).length>0&&(c.mentions=!!H,c.mention=S)}return Object.keys(e).reduce(function(x,E){return dt.indexOf(E)===-1&&(x[E]=e[E]),x},c)},r.IsValidHexColor=function(e){return!!e.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},r.IsValidColorLiteral=function(e){return!!e.match(/^[a-z]{1,50}$/i)},r.IsValidRGBColor=function(e){var s=/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i;return!!e.match(s)},r.IsValidFontName=function(e){return!!e.match(/^[a-z\s0-9\- ]{1,30}$/i)},r.IsValidSize=function(e){return!!e.match(/^[a-z0-9\-]{1,20}$/i)},r.IsValidWidth=function(e){return!!e.match(/^[0-9]*(px|em|%)?$/)},r.isValidTarget=function(e){return!!e.match(/^[_a-zA-Z0-9\-]{1,50}$/)},r.IsValidRel=function(e){return!!e.match(/^[a-zA-Z\s\-]{1,250}$/i)},r.IsValidLang=function(e){return typeof e=="boolean"?!0:!!e.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},r})();return xt.OpAttributeSanitizer=u,xt}var ft={},qt={},Ee;function _n(){if(Ee)return qt;Ee=1,Object.defineProperty(qt,"__esModule",{value:!0});function d(v){var g=`
`;if(v===g)return[v];var p=v.split(g);if(p.length===1)return p;var u=p.length-1;return p.reduce(function(r,e,s){return s!==u?e!==""?r=r.concat(e,g):r.push(g):e!==""&&r.push(e),r},[])}return qt.tokenizeWithNewLines=d,qt}var Mt={},Re;function ee(){if(Re)return Mt;Re=1,Object.defineProperty(Mt,"__esModule",{value:!0});function d(v){for(var g=[],p=1;p<arguments.length;p++)g[p-1]=arguments[p];if(v==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(v),r=0;r<g.length;r++){var e=g[r];if(e!=null)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(u[s]=e[s])}return u}return Mt.assign=d,Mt}var qe;function Cn(){if(qe)return ft;qe=1;var d=ft&&ft.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var s in r)Object.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e.default=r,e};Object.defineProperty(ft,"__esModule",{value:!0});var v=st(),g=d(_n()),p=d(ee()),u=(function(){function r(){}return r.denormalize=function(e){if(!e||typeof e!="object")return[];if(typeof e.insert=="object"||e.insert===v.NewLine)return[e];var s=g.tokenizeWithNewLines(e.insert+"");if(s.length===1)return[e];var c=p.assign({},e,{insert:v.NewLine});return s.map(function(h){return h===v.NewLine?c:p.assign({},e,{insert:h})})},r})();return ft.InsertOpDenormalizer=u,ft}var Me;function Ln(){if(Me)return Ht;Me=1,Object.defineProperty(Ht,"__esModule",{value:!0});var d=Yt(),v=st(),g=Kt(),p=$e(),u=Cn(),r=te(),e=(function(){function s(){}return s.convert=function(c,h){if(!Array.isArray(c))return[];for(var i=[].concat.apply([],c.map(u.InsertOpDenormalizer.denormalize)),f=[],o,a,m=0,y=i;m<y.length;m++){var T=y[m];T.insert&&(o=s.convertInsertVal(T.insert,h),o&&(a=p.OpAttributeSanitizer.sanitize(T.attributes,h),f.push(new d.DeltaInsertOp(o,a))))}return f},s.convertInsertVal=function(c,h){if(typeof c=="string")return new g.InsertDataQuill(v.DataType.Text,c);if(!c||typeof c!="object")return null;var i=Object.keys(c);return i.length?v.DataType.Image in c?new g.InsertDataQuill(v.DataType.Image,r.OpLinkSanitizer.sanitize(c[v.DataType.Image]+"",h)):v.DataType.Video in c?new g.InsertDataQuill(v.DataType.Video,r.OpLinkSanitizer.sanitize(c[v.DataType.Video]+"",h)):v.DataType.Formula in c?new g.InsertDataQuill(v.DataType.Formula,c[v.DataType.Formula]):new g.InsertDataCustom(i[0],c[i[0]]):null},s})();return Ht.InsertOpsConverter=e,Ht}var Tt={},je;function Qe(){return je||(je=1,(function(d){var v=Tt&&Tt.__importStar||function(h){if(h&&h.__esModule)return h;var i={};if(h!=null)for(var f in h)Object.hasOwnProperty.call(h,f)&&(i[f]=h[f]);return i.default=h,i};Object.defineProperty(d,"__esModule",{value:!0});var g=Xt(),p=st(),u=v(ee()),r=v(Ct()),e=$e(),s={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};d.DEFAULT_INLINE_STYLES={font:function(h){return s[h]||"font-family:"+h},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(h,i){var f=parseInt(h,10)*3,o=i.attributes.direction==="rtl"?"right":"left";return"padding-"+o+":"+f+"em"},direction:function(h,i){if(h==="rtl")return"direction:rtl"+(i.attributes.align?"":"; text-align:inherit")}};var c=(function(){function h(i,f){this.op=i,this.options=u.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},f)}return h.prototype.prefixClass=function(i){return this.options.classPrefix?this.options.classPrefix+"-"+i:i+""},h.prototype.getHtml=function(){var i=this.getHtmlParts();return i.openingTag+i.content+i.closingTag},h.prototype.getHtmlParts=function(){var i=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:p.NewLine};var f=this.getTags(),o=this.getTagAttributes();!f.length&&o.length&&f.push("span");for(var a=[],m=[],y="img",T=function(H){return H===y&&!!i.op.attributes.link},C=0,L=f;C<L.length;C++){var k=L[C];T(k)&&a.push(g.makeStartTag("a",this.getLinkAttrs())),a.push(g.makeStartTag(k,o)),m.push(k==="img"?"":g.makeEndTag(k)),T(k)&&m.push(g.makeEndTag("a")),o=[]}return m.reverse(),{openingTag:a.join(""),content:this.getContent(),closingTag:m.join("")}},h.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var i=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&g.encodeHtml(i)||i},h.prototype.getCssClasses=function(){var i=this.op.attributes;if(this.options.inlineStyles)return[];var f=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&f.push("background"),(this.getCustomCssClasses()||[]).concat(f.filter(function(o){return!!i[o]}).filter(function(o){return o==="background"?e.OpAttributeSanitizer.IsValidColorLiteral(i[o]):!0}).map(function(o){return o+"-"+i[o]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},h.prototype.getCssStyles=function(){var i=this,f=this.op.attributes,o=[["color"]];return(this.options.inlineStyles||!this.options.allowBackgroundClasses)&&o.push(["background","background-color"]),this.options.inlineStyles&&(o=o.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(o.filter(function(a){return!!f[a[0]]}).map(function(a){var m=a[0],y=f[m],T=i.options.inlineStyles&&i.options.inlineStyles[m]||d.DEFAULT_INLINE_STYLES[m];if(typeof T=="object")return T[y];if(typeof T=="function"){var C=T;return C(y,i.op)}else return r.preferSecond(a)+":"+y})).filter(function(a){return a!==void 0})},h.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var i=this.makeAttr.bind(this),f=this.getCustomTagAttributes(),o=f?Object.keys(this.getCustomTagAttributes()).map(function(C){return i(C,f[C])}):[],a=this.getCssClasses(),m=a.length?o.concat([i("class",a.join(" "))]):o;if(this.op.isImage())return this.op.attributes.width&&(m=m.concat(i("width",this.op.attributes.width))),m.concat(i("src",this.op.insert.value));if(this.op.isACheckList())return m.concat(i("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return m;if(this.op.isVideo())return m.concat(i("frameborder","0"),i("allowfullscreen","true"),i("src",this.op.insert.value));if(this.op.isMentions()){var y=this.op.attributes.mention;return y.class&&(m=m.concat(i("class",y.class))),y["end-point"]&&y.slug?m=m.concat(i("href",y["end-point"]+"/"+y.slug)):m=m.concat(i("href","about:blank")),y.target&&(m=m.concat(i("target",y.target))),m}var T=this.getCssStyles();return T.length&&m.push(i("style",T.join(";"))),this.op.isCodeBlock()&&typeof this.op.attributes["code-block"]=="string"?m.concat(i("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(m=m.concat(this.getLinkAttrs())),m)},h.prototype.makeAttr=function(i,f){return{key:i,value:f}},h.prototype.getLinkAttrs=function(){var i=[],f=e.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,o=e.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,a=this.op.attributes.target||f,m=this.op.attributes.rel||o;return i.concat(this.makeAttr("href",this.op.attributes.link)).concat(a?this.makeAttr("target",a):[]).concat(m?this.makeAttr("rel",m):[])},h.prototype.getCustomTag=function(i){if(this.options.customTag&&typeof this.options.customTag=="function")return this.options.customTag.apply(null,[i,this.op])},h.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&typeof this.options.customTagAttributes=="function")return this.options.customTagAttributes.apply(null,[this.op])},h.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&typeof this.options.customCssClasses=="function"){var i=this.options.customCssClasses.apply(null,[this.op]);if(i)return Array.isArray(i)?i:[i]}},h.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&typeof this.options.customCssStyles=="function"){var i=this.options.customCssStyles.apply(null,[this.op]);if(i)return Array.isArray(i)?i:[i]}},h.prototype.getTags=function(){var i=this,f=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var o=this.options.paragraphTag||"p",a=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",o],["direction",o],["indent",o]],m=0,y=a;m<y.length;m++){var T=y[m],C=T[0];if(f[C]){var L=this.getCustomTag(C);return L?[L]:C==="header"?["h"+f[C]]:[r.preferSecond(T)]}}if(this.op.isCustomTextBlock()){var L=this.getCustomTag("renderAsBlock");return L?[L]:[o]}var k=Object.keys(f).reduce(function(S,q){var V=i.getCustomTag(q);return V&&(S[q]=V),S},{}),H=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return H.filter(function(S){return!!f[S[0]]}).concat(Object.keys(k).filter(function(S){return!H.some(function(q){return q[0]==S})}).map(function(S){return[S,k[S]]})).map(function(S){return k[S[0]]?k[S[0]]:S[0]==="script"?f[S[0]]===p.ScriptType.Sub?"sub":"sup":r.preferSecond(S)})},h})();d.OpToHtmlConverter=c})(Tt)),Tt}var jt={},R={},Ne;function Lt(){if(Ne)return R;Ne=1;var d=R&&R.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var m in a)a.hasOwnProperty(m)&&(o[m]=a[m])};return function(o,a){f(o,a);function m(){this.constructor=o}o.prototype=a===null?Object.create(a):(m.prototype=a.prototype,new m)}})();Object.defineProperty(R,"__esModule",{value:!0});var v=(function(){function f(o){this.ops=o}return f})();R.InlineGroup=v;var g=(function(){function f(o){this.op=o}return f})(),p=(function(f){d(o,f);function o(){return f!==null&&f.apply(this,arguments)||this}return o})(g);R.VideoItem=p;var u=(function(f){d(o,f);function o(){return f!==null&&f.apply(this,arguments)||this}return o})(g);R.BlotBlock=u;var r=(function(){function f(o,a){this.op=o,this.ops=a}return f})();R.BlockGroup=r;var e=(function(){function f(o){this.items=o}return f})();R.ListGroup=e;var s=(function(){function f(o,a){a===void 0&&(a=null),this.item=o,this.innerList=a}return f})();R.ListItem=s;var c=(function(){function f(o){this.rows=o}return f})();R.TableGroup=c;var h=(function(){function f(o){this.cells=o}return f})();R.TableRow=h;var i=(function(){function f(o){this.item=o}return f})();return R.TableCell=i,R}var Pe;function kn(){if(Pe)return jt;Pe=1,Object.defineProperty(jt,"__esModule",{value:!0});var d=Yt(),v=Ct(),g=Lt(),p=(function(){function u(){}return u.pairOpsWithTheirBlock=function(r){for(var e=[],s=function(a){return!(a.isJustNewline()||a.isCustomEmbedBlock()||a.isVideo()||a.isContainerBlock())},c=function(a){return a.isInline()},h=r.length-1,i,f=h;f>=0;f--){var o=r[f];o.isVideo()?e.push(new g.VideoItem(o)):o.isCustomEmbedBlock()?e.push(new g.BlotBlock(o)):o.isContainerBlock()?(i=v.sliceFromReverseWhile(r,f-1,s),e.push(new g.BlockGroup(o,i.elements)),f=i.sliceStartsAt>-1?i.sliceStartsAt:f):(i=v.sliceFromReverseWhile(r,f-1,c),e.push(new g.InlineGroup(i.elements.concat(o))),f=i.sliceStartsAt>-1?i.sliceStartsAt:f)}return e.reverse(),e},u.groupConsecutiveSameStyleBlocks=function(r,e){return e===void 0&&(e={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),v.groupConsecutiveElementsWhile(r,function(s,c){return!(s instanceof g.BlockGroup)||!(c instanceof g.BlockGroup)?!1:e.codeBlocks&&u.areBothCodeblocksWithSameLang(s,c)||e.blockquotes&&u.areBothBlockquotesWithSameAdi(s,c)||e.header&&u.areBothSameHeadersWithSameAdi(s,c)||e.customBlocks&&u.areBothCustomBlockWithSameAttr(s,c)})},u.reduceConsecutiveSameStyleBlocksToOne=function(r){var e=d.DeltaInsertOp.createNewLineOp();return r.map(function(s){if(!Array.isArray(s))return s instanceof g.BlockGroup&&!s.ops.length&&s.ops.push(e),s;var c=s.length-1;return s[0].ops=v.flatten(s.map(function(h,i){return h.ops.length?h.ops.concat(i<c?[e]:[]):[e]})),s[0]})},u.areBothCodeblocksWithSameLang=function(r,e){return r.op.isCodeBlock()&&e.op.isCodeBlock()&&r.op.hasSameLangAs(e.op)},u.areBothSameHeadersWithSameAdi=function(r,e){return r.op.isSameHeaderAs(e.op)&&r.op.hasSameAdiAs(e.op)},u.areBothBlockquotesWithSameAdi=function(r,e){return r.op.isBlockquote()&&e.op.isBlockquote()&&r.op.hasSameAdiAs(e.op)},u.areBothCustomBlockWithSameAttr=function(r,e){return r.op.isCustomTextBlock()&&e.op.isCustomTextBlock()&&r.op.hasSameAttr(e.op)},u})();return jt.Grouper=p,jt}var Nt={},Fe;function Sn(){if(Fe)return Nt;Fe=1,Object.defineProperty(Nt,"__esModule",{value:!0});var d=Lt(),v=Ct(),g=(function(){function p(){}return p.prototype.nest=function(u){var r=this,e=this.convertListBlocksToListGroups(u),s=this.groupConsecutiveListGroups(e),c=v.flatten(s.map(function(i){return Array.isArray(i)?r.nestListSection(i):i})),h=v.groupConsecutiveElementsWhile(c,function(i,f){return i instanceof d.ListGroup&&f instanceof d.ListGroup?i.items[0].item.op.isSameListAs(f.items[0].item.op):!1});return h.map(function(i){if(!Array.isArray(i))return i;var f=i.map(function(o){return o.items});return new d.ListGroup(v.flatten(f))})},p.prototype.convertListBlocksToListGroups=function(u){var r=v.groupConsecutiveElementsWhile(u,function(e,s){return e instanceof d.BlockGroup&&s instanceof d.BlockGroup&&e.op.isList()&&s.op.isList()&&e.op.isSameListAs(s.op)&&e.op.hasSameIndentationAs(s.op)});return r.map(function(e){return Array.isArray(e)?new d.ListGroup(e.map(function(s){return new d.ListItem(s)})):e instanceof d.BlockGroup&&e.op.isList()?new d.ListGroup([new d.ListItem(e)]):e})},p.prototype.groupConsecutiveListGroups=function(u){return v.groupConsecutiveElementsWhile(u,function(r,e){return r instanceof d.ListGroup&&e instanceof d.ListGroup})},p.prototype.nestListSection=function(u){var r=this,e=this.groupByIndent(u);return Object.keys(e).map(Number).sort().reverse().forEach(function(s){e[s].forEach(function(c){var h=u.indexOf(c);r.placeUnderParent(c,u.slice(0,h))&&u.splice(h,1)})}),u},p.prototype.groupByIndent=function(u){return u.reduce(function(r,e){var s=e.items[0].item.op.attributes.indent;return s&&(r[s]=r[s]||[],r[s].push(e)),r},{})},p.prototype.placeUnderParent=function(u,r){for(var e=r.length-1;e>=0;e--){var s=r[e];if(u.items[0].item.op.hasHigherIndentThan(s.items[0].item.op)){var c=s.items[s.items.length-1];return c.innerList?c.innerList.items=c.innerList.items.concat(u.items):c.innerList=u,!0}}return!1},p})();return Nt.ListNester=g,Nt}var Pt={},We;function In(){if(We)return Pt;We=1,Object.defineProperty(Pt,"__esModule",{value:!0});var d=Lt(),v=Ct(),g=(function(){function p(){}return p.prototype.group=function(u){var r=this.convertTableBlocksToTableGroups(u);return r},p.prototype.convertTableBlocksToTableGroups=function(u){var r=this,e=v.groupConsecutiveElementsWhile(u,function(s,c){return s instanceof d.BlockGroup&&c instanceof d.BlockGroup&&s.op.isTable()&&c.op.isTable()});return e.map(function(s){return Array.isArray(s)?new d.TableGroup(r.convertTableBlocksToTableRows(s)):s instanceof d.BlockGroup&&s.op.isTable()?new d.TableGroup([new d.TableRow([new d.TableCell(s)])]):s})},p.prototype.convertTableBlocksToTableRows=function(u){var r=v.groupConsecutiveElementsWhile(u,function(e,s){return e instanceof d.BlockGroup&&s instanceof d.BlockGroup&&e.op.isTable()&&s.op.isTable()&&e.op.isSameTableRowAs(s.op)});return r.map(function(e){return new d.TableRow(Array.isArray(e)?e.map(function(s){return new d.TableCell(s)}):[new d.TableCell(e)])})},p})();return Pt.TableGrouper=g,Pt}var Ve;function An(){if(Ve)return ut;Ve=1;var d=ut&&ut.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var m in o)Object.hasOwnProperty.call(o,m)&&(a[m]=o[m]);return a.default=o,a};Object.defineProperty(ut,"__esModule",{value:!0});var v=Ln(),g=Qe(),p=kn(),u=Lt(),r=Sn(),e=Xt(),s=d(ee()),c=st(),h=In(),i="<br/>",f=(function(){function o(a,m){this.rawDeltaOps=[],this.callbacks={},this.options=s.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},m,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"});var y;this.options.inlineStyles?typeof this.options.inlineStyles=="object"?y=this.options.inlineStyles:y={}:y=void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:y,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=a}return o.prototype._getListTag=function(a){return a.isOrderedList()?this.options.orderedListTag+"":a.isBulletList()?this.options.bulletListTag+"":a.isCheckedList()?this.options.bulletListTag+"":a.isUncheckedList()?this.options.bulletListTag+"":""},o.prototype.getGroupedOps=function(){var a=v.InsertOpsConverter.convert(this.rawDeltaOps,this.options),m=p.Grouper.pairOpsWithTheirBlock(a),y=p.Grouper.groupConsecutiveSameStyleBlocks(m,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),T=p.Grouper.reduceConsecutiveSameStyleBlocksToOne(y),C=new h.TableGrouper;T=C.group(T);var L=new r.ListNester;return L.nest(T)},o.prototype.convert=function(){var a=this,m=this.getGroupedOps();return m.map(function(y){if(y instanceof u.ListGroup)return a._renderWithCallbacks(c.GroupType.List,y,function(){return a._renderList(y)});if(y instanceof u.TableGroup)return a._renderWithCallbacks(c.GroupType.Table,y,function(){return a._renderTable(y)});if(y instanceof u.BlockGroup){var T=y;return a._renderWithCallbacks(c.GroupType.Block,y,function(){return a._renderBlock(T.op,T.ops)})}else return y instanceof u.BlotBlock?a._renderCustom(y.op,null):y instanceof u.VideoItem?a._renderWithCallbacks(c.GroupType.Video,y,function(){var C=y,L=new g.OpToHtmlConverter(C.op,a.converterOptions);return L.getHtml()}):a._renderWithCallbacks(c.GroupType.InlineGroup,y,function(){return a._renderInlines(y.ops,!0)})}).join("")},o.prototype._renderWithCallbacks=function(a,m,y){var T="",C=this.callbacks.beforeRender_cb;T=typeof C=="function"?C.apply(null,[a,m]):"",T||(T=y());var L=this.callbacks.afterRender_cb;return T=typeof L=="function"?L.apply(null,[a,T]):T,T},o.prototype._renderList=function(a){var m=this,y=a.items[0];return e.makeStartTag(this._getListTag(y.item.op))+a.items.map(function(T){return m._renderListItem(T)}).join("")+e.makeEndTag(this._getListTag(y.item.op))},o.prototype._renderListItem=function(a){a.item.op.attributes.indent=0;var m=new g.OpToHtmlConverter(a.item.op,this.converterOptions),y=m.getHtmlParts(),T=this._renderInlines(a.item.ops,!1);return y.openingTag+T+(a.innerList?this._renderList(a.innerList):"")+y.closingTag},o.prototype._renderTable=function(a){var m=this;return e.makeStartTag("table")+e.makeStartTag("tbody")+a.rows.map(function(y){return m._renderTableRow(y)}).join("")+e.makeEndTag("tbody")+e.makeEndTag("table")},o.prototype._renderTableRow=function(a){var m=this;return e.makeStartTag("tr")+a.cells.map(function(y){return m._renderTableCell(y)}).join("")+e.makeEndTag("tr")},o.prototype._renderTableCell=function(a){var m=new g.OpToHtmlConverter(a.item.op,this.converterOptions),y=m.getHtmlParts(),T=this._renderInlines(a.item.ops,!1);return e.makeStartTag("td",{key:"data-row",value:a.item.op.attributes.table})+y.openingTag+T+y.closingTag+e.makeEndTag("td")},o.prototype._renderBlock=function(a,m){var y=this,T=new g.OpToHtmlConverter(a,this.converterOptions),C=T.getHtmlParts();if(a.isCodeBlock())return C.openingTag+e.encodeHtml(m.map(function(k){return k.isCustomEmbed()?y._renderCustom(k,a):k.insert.value}).join(""))+C.closingTag;var L=m.map(function(k){return y._renderInline(k,a)}).join("");return C.openingTag+(L||i)+C.closingTag},o.prototype._renderInlines=function(a,m){var y=this;m===void 0&&(m=!0);var T=a.length-1,C=a.map(function(H,S){return S>0&&S===T&&H.isJustNewline()?"":y._renderInline(H,null)}).join("");if(!m)return C;var L=e.makeStartTag(this.options.paragraphTag),k=e.makeEndTag(this.options.paragraphTag);return C===i||this.options.multiLineParagraph?L+C+k:L+C.split(i).map(function(H){return H===""?i:H}).join(k+L)+k},o.prototype._renderInline=function(a,m){if(a.isCustomEmbed())return this._renderCustom(a,m);var y=new g.OpToHtmlConverter(a,this.converterOptions);return y.getHtml().replace(/\n/g,i)},o.prototype._renderCustom=function(a,m){var y=this.callbacks.renderCustomOp_cb;return typeof y=="function"?y.apply(null,[a,m]):""},o.prototype.beforeRender=function(a){typeof a=="function"&&(this.callbacks.beforeRender_cb=a)},o.prototype.afterRender=function(a){typeof a=="function"&&(this.callbacks.afterRender_cb=a)},o.prototype.renderCustomWith=function(a){this.callbacks.renderCustomOp_cb=a},o})();return ut.QuillDeltaToHtmlConverter=f,ut}var Ue;function On(){if(Ue)return B;Ue=1,Object.defineProperty(B,"__esModule",{value:!0});var d=An();B.QuillDeltaToHtmlConverter=d.QuillDeltaToHtmlConverter;var v=Qe();B.OpToHtmlConverter=v.OpToHtmlConverter;var g=Lt();B.InlineGroup=g.InlineGroup,B.VideoItem=g.VideoItem,B.BlockGroup=g.BlockGroup,B.ListGroup=g.ListGroup,B.ListItem=g.ListItem,B.BlotBlock=g.BlotBlock;var p=Yt();B.DeltaInsertOp=p.DeltaInsertOp;var u=Kt();B.InsertDataQuill=u.InsertDataQuill,B.InsertDataCustom=u.InsertDataCustom;var r=st();return B.NewLine=r.NewLine,B.ListType=r.ListType,B.ScriptType=r.ScriptType,B.DirectionType=r.DirectionType,B.AlignType=r.AlignType,B.DataType=r.DataType,B.GroupType=r.GroupType,B}var wn=On(),pt;function Dn(d,v=null){if(Bn(d),zn(),v){var g=v.outerHTML||v.innerHTML;const p=pt.clipboard.convert(g.trim());pt.setContents(p)}else pt.setContents([{insert:`
`}])}function Gn(){const d=pt.getContents();return'<div class="Container-Text">'+new wn.QuillDeltaToHtmlConverter(d.ops,{inlineStyles:!0}).convert()+"</div>"}function Bn(d){document.getElementById("editorTexto")||(d.innerHTML=`
            <div class="editor-quill">
                <div id="editorTexto" class="border rounded" style="height:300px;"></div>
            </div>
        `)}function zn(){pt=new Quill("#editorTexto",{theme:"snow",placeholder:"Escribe tu texto aqu√≠...",modules:{toolbar:[[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline"],[{color:[]},{background:[]}],[{align:[]}],["link"],[{list:"ordered"},{list:"bullet"}]]}});const d=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;pt.clipboard.addMatcher(Node.ELEMENT_NODE,function(v,g){let p=null;if(v.classList&&(v.classList.contains("ql-size-small")?p="small":v.classList.contains("ql-size-large")?p="large":v.classList.contains("ql-size-huge")&&(p="huge")),!p&&v.style&&v.style.fontSize){const u=v.style.fontSize.trim();let r=NaN;u.endsWith("em")||u.endsWith("rem")?r=parseFloat(u)*d:u.endsWith("%")?r=parseFloat(u)/100*d:r=parseFloat(u),Number.isNaN(r)||(r<=12?p="small":r>=32?p="huge":r>=18&&(p="large"))}return p&&g.ops.forEach(u=>{u.insert&&typeof u.insert=="string"&&(u.attributes=u.attributes||{},u.attributes.size=p)}),g}),window._quillInitialized=!0}export{Gn as g,Dn as o};
